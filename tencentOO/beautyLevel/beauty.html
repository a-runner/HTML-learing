<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>颜值评分</title>
    <!-- 鼠标点击效果 -->
<!--    <script src="https://blog-static.cnblogs.com/files/e-cat/cursor-effects.js"></script>-->
<!--    <script src="https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js"></script>-->

<!--<script type="text/javascript">-->
<!--    //隔一段时间进行换老板娘-->
<!--    var cars=["https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json",-->
<!--        "https://unpkg.com/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json",-->
<!--        "https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json",-->
<!--        "https://unpkg.com/live2d-widget-model-z16@1.0.5/assets/z16.model.json",-->
<!--        "https://unpkg.com/live2d-widget-model-koharu@1.0.5/assets/koharu.model.json"];-->
<!--    var c = 0;-->
<!--        function rotate(){-->
<!--            c++;-->
<!--            if(c>4){-->
<!--                c=0;-->
<!--            }-->
<!--            L2Dwidget.init({-->
<!--        "model": {-->
<!--            jsonPath: cars[c],-->
<!--            "scale": 1-->
<!--        },-->
<!--        "display": {-->
<!--            "position": "left",-->
<!--            "width": 100,-->
<!--            "height": 200,-->
<!--            "hOffset": 0,-->
<!--            "vOffset": -20-->
<!--        },-->
<!--        "mobile": {-->
<!--            "show": true,-->
<!--            "scale": 0.5-->
<!--        },-->
<!--        "react": {-->
<!--            "opacityDefault": 0.7,-->
<!--            "opacityOnHover": 0.2-->
<!--        }-->
<!--    });-->
<!--            // return cars[c];-->
<!--        }-->

<!--        // setInterval(rotate, 4000);-->

<!--</script>-->
    <style>
        button{
            height: 50px; width: 379px;color: blue;
            /*border: 1px solid blueviolet;*/
            font-size: 20px;
            text-align: center;
            position: center;
            background-color: aqua;
        }
        .div2{
            width: 490px;
            height: 600px;
            border: 5px dotted palevioletred;
            position:absolute;
        }
        button:hover{
            background-color: bisque;
        }
        #readAsDataURL{
            margin-top: 100px;
        }
        .div3{
            width: 379px;
            height: 600px;
            /*float:right;*/
            /*margin-top: 100px;*/
            margin-left: 520px;
            background-image: url("../image/小姐姐33.jpg");
            /*background-image: url("./小姐姐33.jpg");*/
            /*margin-top: 0px;*/
            /*opacity: 0.2;*/
            background-position: center;
            position: absolute;
            /*margin: auto;*/
        }
        #fileDemo{
            /*position: relative;*/
            margin-top: 200px;
        }
        #bb{
            margin-top: 100px;
        }
        .music{
            float: right;
            font-family: 'Consolas', 'Monaco', 'Bitstream Vera Sans Mono', monospace;
            font-size: 20px;
            color: black;
        }
        .div4{
            width: 330px;
            height: 600px;
            background-image: url("../image/小姐姐22.jpg");
            background-position: center;
            /*float: right;*/
            /*opacity: 0.2;*/
            /*margin: auto;*/
            margin-left: 910px;
        }
        img{
            /*opacity: 0.2;*/
        }
        .div5{
            position: relative;
            top: 100px;
        }
        .div1{
        }
    </style>
</head>
<body>
<div class="music">
<!--    <p class="p1"><strong>紧张的话，放个音乐轻松一下吧！！！</strong></p>-->
<!--    <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=32526653&auto=1&height=66"></iframe>-->
</div>
<div class="div1">
<div id="result" class="div2">

</div>
<div class="div3">
<!--<form action="./mask.html" method="post" id="uploadPicForm" enctype="multipart/form-data">-->
    <div class="div5">
    <input type="file" name="fileDemo" id="fileDemo" style="width: 200px;height: 30px;color: blueviolet"/>
    <input type="button" value="readAsDataURL" id="readAsDataURL" onclick="showDataByURL();" style="width: 100px;height: 30px;background-color: aqua"/>
<!--    <input type="button" value="readAsBinaryString"  id="readAsBinaryString" onclick="showDataByBinaryString();"/>-->
<!--    <input type="button" value="readAsText"  id="readAsText" onclick="showDataByText();"/>-->
    <button type="submit" id="bb">开始检测</button>

    <div style="margin-left: 116px;">
        <br>
        <span id="re" style="width:100px;height:30px;background-color: aliceblue;color: blue;font-size: 30px;text-align: center;">返回结果</span>
    </div>
    </div>

</div>

<div class="div4">
</div>
    </div>
</body>



<script src="https://blog-static.cnblogs.com/files/e-cat/cursor-effects.js"></script>
    <script src="https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js"></script>

<script type="text/javascript">
    //隔一段时间进行换老板娘
    var cars=["https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json",
        "https://unpkg.com/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json",
        "https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json",
        "https://unpkg.com/live2d-widget-model-z16@1.0.5/assets/z16.model.json",
        "https://unpkg.com/live2d-widget-model-koharu@1.0.5/assets/koharu.model.json"];
    var c = 0;
        function rotate(){
            c++;
            if(c>4){
                c=0;
            }
            L2Dwidget.init({
        "model": {
            jsonPath: cars[c],
            "scale": 1
        },
        "display": {
            "position": "left",
            "width": 100,
            "height": 200,
            "hOffset": 0,
            "vOffset": -20
        },
        "mobile": {
            "show": true,
            "scale": 0.5
        },
        "react": {
            "opacityDefault": 0.7,
            "opacityOnHover": 0.2
        }
    });
            // return cars[c];
        }

    setInterval(rotate, 4000);

</script>

<!--<script src="js/jquery.min.js" type="text/javascript"></script>-->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
    <script type="text/javascript">
        if(typeof FileReader == "undified") {
            alert("您老的浏览器不行了！");
        }
        function showDataByURL() {
            var resultFile = document.getElementById("fileDemo").files[0];
            if (resultFile) {
                var reader = new FileReader();
                reader.readAsDataURL(resultFile);
                reader.onload = function (e) {
                    var urlData = this.result;
                    document.getElementById("result").innerHTML += "<img src='" + urlData + "' alt='" + resultFile.name + "' />";
                    document.getElementById("result").style.backgroundSize="contain";
                }
            }
        }
        // function showDataByBinaryString() {
        //       var resultFile = document.getElementById("fileDemo").files[0];
        //     if (resultFile) {
        //         var reader = new FileReader();
        //         //异步方式，不会影响主线程
        //         reader.readAsBinaryString(resultFile);
        //
        //         reader.onload = function(e) {
        //             var urlData = this.result;
        //             document.getElementById("result").innerHTML += urlData;
        //         };
        //     }
        // }
        // function showDataByText() {
        //     var resultFile = document.getElementById("fileDemo").files[0];
        //     if (resultFile) {
        //         var reader = new FileReader();
        //
        //         reader.readAsText(resultFile, 'UTF-8');
        //         reader.onload = function (e) {
        //             var urlData = this.result;
        //             document.getElementById("result").innerHTML += urlData;
        //         };
        //     }
        // }

        // 点击开始检测
        $('#bb').click(
            function () {
                // form = document.getElementById("uploadPicForm");
                var fileObj = $("#fileDemo")[0].files[0];
                var form = new FormData();
                form.append("k1", "v1");
                form.append("fileDemo", fileObj);
                // formData.append("fileDemo",form);
                // AJAX
                $.ajax({
                    'url':'http://118.190.134.125:8800/beautyLevel',
                    // "url":'/',
                    "type":'post',
                    "data":form,
                    // dataType: "json",
                    dataType:"text",
                    async: false,
                    cache: false,
                    contentType: false,
                    processData: false,
                    success: function (returndata) {
                        // var jsonData = JSON.parse(returndata);
        	            if(returndata){
        		            $("#re").text(returndata);
        		            // alert('成功');
        	            }
        	            else{
        	                alert("失败");
                        }
                    },
                    error: function (returndata) {
                        alert("上传失败");
                    }
                })
            }
        )
    </script>
</html>